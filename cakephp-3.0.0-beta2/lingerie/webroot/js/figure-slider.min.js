//FIGURE-SLIDER 1.0 by DcDeiv https://github.com/dcdeiv/
// GPLv2 http://www.gnu.org/licenses/gpl-2.0-standalone.html
!function(a){a(document).ready(function(){a.fn.figureSlider=function(){function r(a){0===a?i.hide():i.show(),a==g-1?j.hide():j.show()}function s(){o==g-1?(o=0,r(o)):(o++,r(o)),t()}function t(){var a=b.width();h.animate({marginLeft:a*-o})}var b=a(this),c=b.width(),d=c/1.85;b.wrapInner("<div />").css({padding:0});var e=b.children();e.prepend("<div /><div />").css({position:"relative",width:c,minHeight:d,margin:"0 auto",padding:0,backgroundColor:"inherit",overflow:"hidden"});var f=e.children().filter("figure"),g=f.length;f.wrapAll("<div />").css({width:c,margin:0,padding:0,border:0,borderImageWidth:0,"float":"left"});var h=f.parent();h.css({width:g*c,backgroundColor:"inherit"}),f.children().filter("img").each(function(){var b=a(this),e=b.attr("src");b.wrap("<div />");var f=b.parent();f.css({width:"100%",height:d}),b.css({maxWidth:c,maxHeight:d}),a("<img />").attr("src",e+"?cache="+Date.now()).load(function(){var a=this.width,e=this.height,f=a/e,g=c/f,h=1.85;h>f?b.css({marginTop:"",width:"auto",height:d}):b.css({marginTop:.5*d-.5*g,width:"100%",height:"auto"})})}),f.children().filter("figcaption").each(function(){var b=a(this);b.css({margin:"0 auto",padding:"1em",textAlign:"left"}),b.children().filter("h1, h2, h3, h4, h5, h6").each(function(){var b=a(this);b.css({margin:0,padding:0,fontSize:"1.8em"})})});var i=e.children(":first-child"),j=e.children(":nth-child(2)");i.append("<div /><div />"),j.append("<div /><div />");var k=i.children(":first-child"),l=i.children(":nth-child(2)"),m=j.children(":first-child"),n=j.children(":nth-child(2)");i.css({position:"absolute",top:.5*d,left:5,marginTop:-26,height:32,width:32,"-webkit-border-radius":"1em","-moz-border-radius":"1em",borderRadius:"1em",backgroundColor:"rgba(0,0,0,0.2)",zIndex:10}).mouseover(function(){a(this).css({backgroundColor:"#000000"})}).mouseout(function(){a(this).css({backgroundColor:"rgba(0,0,0,0.2)"})}),k.css({content:"",display:"block",height:4,width:"1.6em",marginTop:8,marginLeft:1,"-webkit-border-radius":".5em","-moz-border-radius":".5em",borderRadius:".5em",backgroundColor:"#FFFFFF","-webkit-transform":"rotate(-30deg)","-moz-transform":"rotate(-30deg)","-ms-transform":"rotate(-30deg)","-0-transform":"rotate(-30deg)",transform:"rotate(-30deg)"}),l.css({content:"",display:"block",height:4,width:"1.6em",marginTop:8,marginLeft:1,"-webkit-border-radius":".5em","-moz-border-radius":".5em",borderRadius:".5em",backgroundColor:"#FFFFFF","-webkit-transform":"rotate(30deg)","-moz-transform":"rotate(30deg)","-ms-transform":"rotate(30deg)","-0-transform":"rotate(30deg)",transform:"rotate(30deg)"}),j.css({position:"absolute",top:.5*d,right:5,marginTop:-26,height:32,width:32,"-webkit-border-radius":"1em","-moz-border-radius":"1em",borderRadius:"1em",backgroundColor:"rgba(0,0,0,0.2)",zIndex:10}).mouseover(function(){a(this).css({backgroundColor:"#000000"})}).mouseout(function(){a(this).css({backgroundColor:"rgba(0,0,0,0.2)"})}),n.css({content:"",display:"block",height:4,width:"1.6em",marginTop:8,marginLeft:6,"-webkit-border-radius":".5em","-moz-border-radius":".5em",borderRadius:".5em",backgroundColor:"#FFFFFF","-webkit-transform":"rotate(-30deg)","-moz-transform":"rotate(-30deg)","-ms-transform":"rotate(-30deg)","-0-transform":"rotate(-30deg)",transform:"rotate(-30deg)"}),m.css({content:"",display:"block",height:4,width:"1.6em",marginTop:8,marginLeft:6,"-webkit-border-radius":".5em","-moz-border-radius":".5em",borderRadius:".5em",backgroundColor:"#FFFFFF","-webkit-transform":"rotate(30deg)","-moz-transform":"rotate(30deg)","-ms-transform":"rotate(30deg)","-0-transform":"rotate(30deg)",transform:"rotate(30deg)"});var q,o=0,p=6e3;return q=setInterval(s,p),r(o),j.click(function(){o=a(this)?o+1:o-1,r(o),clearInterval(q),q=setInterval(s,p),t()}),i.click(function(){o=a(this)?o-1:o+1,r(o),clearInterval(q),q=setInterval(s,p),t()}),a(window).resize(function(){var c=b.width(),d=c/1.85;t(),i.css({top:.5*d}),j.css({top:.5*d}),e.css({width:c,minHeight:d}),f.css({width:c}),h.css({width:g*c});var k=f.children(":first-child");k.css({width:"100%",height:d}).children().each(function(){var b=a(this),e=b.width(),f=b.height(),g=e/f,h=c/g;b.css({maxWidth:c,maxHeight:d}),1.85>g?b.css({marginTop:"",width:"auto",height:d}):b.css({marginTop:.5*d-.5*h,width:"100%",height:"auto"})})}),this}})}(jQuery);